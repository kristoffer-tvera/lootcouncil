@page "{id:int?}"
@model Lootcouncil.Pages.Council.IndexModel
@{
    ViewData["Title"] = "Council";
}

@if (Model.CurrentCouncil != null)
{
    <p>See all encounters for raid</p>
    <p>See all loot from all encounters</p>
    <p>Update my choices <a asp-area="" asp-page="/Council/Me" asp-route-id="@Model.CurrentCouncil.Id">here</a></p>
}
else
{
    if (Model.Councils != null)
    {
        <h1>Councils you are part of</h1>
        <div class="demo-list-action mdl-list">
            @foreach (var council in Model.Councils)
            {
                <div class="mdl-list__item">
                    <span class="mdl-list__item-primary-content">
                        <i class="material-icons mdl-list__item-avatar">person</i>
                        <span>Council @council.Id</span>
                    </span>
                    <a class="mdl-list__item-secondary-action" asp-area="" asp-page="/Council/Index" asp-route-id="@council.Id"><i class="material-icons">star</i></a>
                </div>
            }
        </div>
    }

    <p>Create a new council? <a asp-area="" asp-page="/Council/New">Click here</a>.</p>
}